<div class="container">
    <h3 class="text-center">General Insurance Endowment Policy Menu</h3>
    <form [formGroup]="endowmentForm" class="mt-5">
        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Policy Number </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="policyNumber" class="form-control textbox" maxlength="10" [ngClass]="{ 'is-invalid': submitted && noPolicyNo }" />
                    <div *ngIf="submitted && noPolicyNo" class="invalid-feedback">
                        <div *ngIf="noPolicyNo">
                            Policy Number is required
                        </div>
                        <!-- <div *ngIf="f.policyNumber.errors.pattern">
                            Invalid Policy Number
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Customer Number</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="customerNumber" class="form-control textbox" [ngClass]="{ 'is-invalid': submitted && noCustomerNo}" />
                    <div *ngIf="submitted && noCustomerNo" class="invalid-feedback">
                        <div *ngIf="noCustomerNo">
                            Customer Number is required
                        </div>
                        <!-- <div *ngIf="f.customerNumber.errors.pattern">
                            Invalid Customer Number
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Issue Date</label>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <input matInput class="form-control textbox" formControlName="issueDate" [matDatepicker]="issueDate" [ngClass]="{ 'is-invalid': f.issueDate.errors }">
                        <div class="input-group-append">
                            <div class="input-group-text p-0">
                                <mat-datepicker-toggle matSuffix [for]="issueDate"></mat-datepicker-toggle>
                                <mat-datepicker #issueDate></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <!-- <input type="date" formControlName="issueDate" class="form-control textbox" data-date-format="YYYY/MM/DD" [ngClass]="{ 'is-invalid': submitted && f.issueDate.errors }" /> -->

                    <div *ngIf="submitted && f.issueDate.errors" class="invalid-feedback">
                        <div *ngIf="f.issueDate.errors.required">
                            Issue Date is required
                        </div>
                        <div *ngIf="f.issueDate.errors.pattern">
                            Issue Date must be a valid date in the format YYYY-MM-DD
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Expiry Date</label>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <input matInput class="form-control textbox" formControlName="expiryDate" [matDatepicker]="expiryDate" [ngClass]="{ 'is-invalid': f.expiryDate.errors }">
                        <div class="input-group-append">
                            <div class="input-group-text p-0">
                                <mat-datepicker-toggle matSuffix [for]="expiryDate"></mat-datepicker-toggle>
                                <mat-datepicker #expiryDate></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <!-- <input type="date" formControlName="expiryDate" class="form-control textbox" data-date-format="YYYY/MM/DD" [ngClass]="{ 'is-invalid': submitted && f.expiryDate.errors }" /> -->

                    <div *ngIf="submitted && f.expiryDate.errors" class="invalid-feedback">
                        <div *ngIf="f.expiryDate.errors.required">
                            Issue Date is required
                        </div>
                        <div *ngIf="f.expiryDate.errors.pattern">
                            Issue Date must be a valid date in the format YYYY-MM-DD
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Fund Name</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="fundName" class="form-control textbox" maxlength="10" [ngClass]="{ 'is-invalid': submitted && f.fundName.errors }" />
                    <div *ngIf="submitted && f.fundName.errors" class="invalid-feedback">
                        <div *ngIf="f.fundName.errors.required">Fund Name is required</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Term</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="term" class="form-control textbox" maxlength="2" [ngClass]="{ 'is-invalid': submitted && f.term.errors }" />
                    <div *ngIf="submitted && f.term.errors" class="invalid-feedback">
                        <div *ngIf="f.term.errors.required">Term is required</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Sum Assured </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="sumAssured" class="form-control textbox" maxlength="6" [ngClass]="{ 'is-invalid': submitted && f.sumAssured.errors }" />
                    <div *ngIf="submitted && f.sumAssured.errors" class="invalid-feedback">
                        <div *ngIf="f.sumAssured.errors.required">
                            Sum Assured is required
                        </div>
                        <div *ngIf="f.sumAssured.errors.pattern">
                            Invalid Sum Assured Value
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Life Assured </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="lifeAssured" class="form-control textbox" maxlength="25" [ngClass]="{ 'is-invalid': submitted && f.lifeAssured.errors }" />
                    <div *ngIf="submitted && f.lifeAssured.errors" class="invalid-feedback">
                        <div *ngIf="f.lifeAssured.errors.required">
                            Life Assured is required
                        </div>
                        <div *ngIf="f.lifeAssured.errors.pattern">
                            Invalid Life Assured Value
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">With Profits </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="withProfits" class="form-control textbox" maxlength="1" [ngClass]="{ 'is-invalid': submitted && f.withProfits.errors }" />
                    <div *ngIf="submitted && f.withProfits.errors" class="invalid-feedback">
                        <div *ngIf="f.withProfits.errors.required">
                            With Profits is required
                        </div>
                        <div *ngIf="f.withProfits.errors.pattern">
                            Invalid With Profits Value
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Equities </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="equities" class="form-control textbox" maxlength="1" [ngClass]="{ 'is-invalid': submitted && f.equities.errors }" />
                    <div *ngIf="submitted && f.equities.errors" class="invalid-feedback">
                        <div *ngIf="f.equities.errors.required">Equities is required</div>
                        <div *ngIf="f.equities.errors.pattern">Invalid Equities Value</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Managed Funds </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="managedFunds" class="form-control textbox" maxlength="1" [ngClass]="{ 'is-invalid': submitted && f.managedFunds.errors }" />
                    <div *ngIf="submitted && f.managedFunds.errors" class="invalid-feedback">
                        <div *ngIf="f.managedFunds.errors.required">
                            Managed Funds is required
                        </div>
                        <div *ngIf="f.managedFunds.errors.pattern">
                            Invalid Managed Value
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group d-flex justify-content-around mt-5">
            <button type="submit" class="btn btn-primary" (click)="policyInquiry()">Policy Inquiry</button>
            <button type="submit" class="btn btn-primary" (click)="policyAdd()">Policy Add</button>
            <button type="submit" class="btn btn-primary" (click)="policyDelete()">Policy Delete</button>

            <div *ngIf="isPolicyUpdate">
                <button type="submit" [disabled]="!isPolicyUpdate" class="btn btn-primary" (click)="policyUpdate()">Confirm Update</button>
            </div>
            <div *ngIf="!isPolicyUpdate">
                <button type="submit" [disabled]="isPolicyUpdate" class="btn btn-primary" (click)="policyUpdate()">Policy Update</button>
            </div>
            <button type="button" (click)="onReset()" class="btn btn-warning float-right">
        Reset
      </button>
        </div>
    </form>
</div>
<div class="container">
    <h3 class="text-center">General Insurance House Policy Menu</h3>
    <form [formGroup]="houseForm" class="mt-5">
        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Policy Number </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="policyNumber" class="form-control textbox" maxlength="10" [ngClass]="{ 'is-invalid': submitted && noPolicyNo }" />
                    <div *ngIf="submitted && noPolicyNo" class="invalid-feedback">
                        <div *ngIf="noPolicyNo">
                            Policy Number is required
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Customer Number</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="customerNumber" class="form-control textbox" [ngClass]="{ 'is-invalid': submitted && noCustomerNo }" />
                    <div *ngIf="submitted && noCustomerNo" class="invalid-feedback">
                        <div *ngIf="noCustomerNo">
                            Customer Number is required
                        </div>
                        <!-- <div *ngIf="f.customerNumber.errors.pattern">
                            Invalid Customer Number
                        </div> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Issue Date</label>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <input matInput class="form-control textbox" formControlName="issueDate" [matDatepicker]="issueDate" [ngClass]="{ 'is-invalid': f.issueDate.errors }">
                        <div class="input-group-append">
                            <div class="input-group-text p-0">
                                <mat-datepicker-toggle matSuffix [for]="issueDate"></mat-datepicker-toggle>
                                <mat-datepicker #issueDate></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <!-- <input type="date" formControlName="issueDate" class="form-control textbox" data-date-format="YYYY/MM/DD" [ngClass]="{ 'is-invalid': submitted && f.issueDate.errors }" /> -->

                    <div *ngIf="submitted && f.issueDate.errors" class="invalid-feedback">
                        <div *ngIf="f.issueDate.errors.required">
                            Issue Date is required
                        </div>
                        <div *ngIf="f.issueDate.errors.pattern">
                            Issue Date must be a valid date in the format YYYY-MM-DD
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Expiry Date</label>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <input matInput class="form-control textbox" formControlName="expiryDate" [matDatepicker]="expiryDate" [ngClass]="{ 'is-invalid': f.expiryDate.errors }">
                        <div class="input-group-append">
                            <div class="input-group-text p-0">
                                <mat-datepicker-toggle matSuffix [for]="expiryDate"></mat-datepicker-toggle>
                                <mat-datepicker #expiryDate></mat-datepicker>
                            </div>
                        </div>
                    </div>
                    <!-- <input type="date" formControlName="expiryDate" class="form-control textbox" data-date-format="YYYY/MM/DD" [ngClass]="{ 'is-invalid': submitted && f.expiryDate.errors }" /> -->

                    <div *ngIf="submitted && f.expiryDate.errors" class="invalid-feedback">
                        <div *ngIf="f.expiryDate.errors.required">
                            Issue Date is required
                        </div>
                        <div *ngIf="f.expiryDate.errors.pattern">
                            Issue Date must be a valid date in the format YYYY-MM-DD
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Property Type</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="propertyType" class="form-control textbox" maxlength="15" [ngClass]="{ 'is-invalid': submitted && f.propertyType.errors }" />
                    <div *ngIf="submitted && f.propertyType.errors" class="invalid-feedback">
                        <div *ngIf="f.propertyType.errors.required">
                            Property Type is required
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Bedrooms </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="bedRooms" class="form-control textbox" maxlength="3" [ngClass]="{ 'is-invalid': submitted && f.bedRooms.errors }" />
                    <div *ngIf="submitted && f.bedRooms.errors" class="invalid-feedback">
                        <div *ngIf="f.bedRooms.errors.required">Bedrooms is required</div>
                        <div *ngIf="f.bedRooms.errors.pattern">Invalid Bedrooms Value</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">House Value </label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="HouseValue" class="form-control textbox" maxlength="8" [ngClass]="{ 'is-invalid': submitted && f.HouseValue.errors }" />
                    <div *ngIf="submitted && f.HouseValue.errors" class="invalid-feedback">
                        <div *ngIf="f.HouseValue.errors.required">
                            House Value is required
                        </div>
                        <div *ngIf="f.HouseValue.errors.pattern">
                            Invalid House Value Value
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">House Name</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="houseName" class="form-control textbox" maxlength="20" [ngClass]="{ 'is-invalid': submitted && f.houseName.errors }" />
                    <div *ngIf="submitted && f.houseName.errors" class="invalid-feedback">
                        <div *ngIf="f.houseName.errors.required">
                            House Name is required
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">House Number</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="houseNumber" class="form-control textbox" maxlength="4" [ngClass]="{ 'is-invalid': submitted && f.houseNumber.errors }" />
                    <div *ngIf="submitted && f.houseNumber.errors" class="invalid-feedback">
                        <div *ngIf="f.houseNumber.errors.required">
                            House Number is required
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group mb-3">
            <div class="row justify-content-md-center">
                <div class="col-md-3">
                    <label class="mb-2">Post Code</label>
                </div>
                <div class="col-md-4">
                    <input type="text" formControlName="postCode" class="form-control textbox" maxlength="8" [ngClass]="{ 'is-invalid': submitted && f.postCode.errors }" />
                    <div *ngIf="submitted && f.postCode.errors" class="invalid-feedback">
                        <div *ngIf="f.postCode.errors.required">Post Code is required</div>
                        <div *ngIf="f.postCode.errors.pattern">Invalid Post Code</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group d-flex justify-content-around mt-5">
            <button type="submit" class="btn btn-primary" (click)="policyInquiry()">Policy Inquiry</button>
            <button type="submit" class="btn btn-primary" (click)="policyAdd()">Policy Add</button>
            <button type="submit" class="btn btn-primary" (click)="policyDelete()">Policy Delete</button>

            <div *ngIf="isPolicyUpdate">
                <button type="submit" [disabled]="!isPolicyUpdate" class="btn btn-primary" (click)="policyUpdate()">Confirm Update</button>
            </div>
            <div *ngIf="!isPolicyUpdate">
                <button type="submit" [disabled]="isPolicyUpdate" class="btn btn-primary" (click)="policyUpdate()">Policy Update</button>
            </div>
            <button type="button" (click)="onReset()" class="btn btn-warning float-right">
        Reset
      </button>
        </div>
    </form>
</div>